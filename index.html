<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DX7S9VB3FX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DX7S9VB3FX');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO 관련 메타태그 -->
    <meta name="description" content="원리금 균등 상환, 원금 균등 상환, 메모, 웹메모, 계산기">
    <meta name="keywords" content="원리금 균등 상환, 원금 균등 상환, 메모, 웹메모, 계산기">
    <meta name="author" content="기디개">

    <!-- 웹사이트 제목 -->
    <title>대출 이자 계산기</title>

    <!-- CSS 스타일시트 연결 -->
    <link rel="stylesheet" href="styles.css">
 

</head>
<body>
    <header>

      <div class="header">
        <div class="logo">
          <h1>대출이자계산기</h1></div>
        <nav class="navbar">
           <!-- <ul> 추가할 내역 생기면 그때 주석 해제 하자
                <li><a href="#">홈</a></li>
                <li class="dropdown">
                    <a href="대출이자 계산기" class="dropbtn">대출이자 계산기</a>
                    <div class="dropdown-content">
                        <a href="#">서비스 1 항목 1</a>
                        <a href="#">서비스 1 항목 2</a>
                        <a href="#">서비스 1 항목 3</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropbtn">서비스 2</a>
                    <div class="dropdown-content">
                        <a href="#">서비스 2 항목 1</a>
                        <a href="#">서비스 2 항목 2</a>
                        <a href="#">서비스 2 항목 3</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropbtn">서비스 3</a>
                    <div class="dropdown-content">
                        <a href="#">서비스 3 항목 1</a>
                        <a href="#">서비스 3 항목 2</a>
                        <a href="#">서비스 3 항목 3</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropbtn">더보기</a>
                    <div class="dropdown-content">
                        <a href="#">항목 1</a>
                        <a href="#">항목 2</a>
                        <a href="#">항목 3</a>
                    </div>
                </li>
            </ul> --> 
        </nav>
    </header>

    <main>
<!--
      <div class="tab-menu">
        <button onclick="showTab('tab1')">원리금 균등 상환기</button>
        <button onclick="showTab('tab2')">원리금 균등 상환기</button>
        <button onclick="showTab('tab3')">단리 계산기 </button>
        <button onclick="showTab('tab4')">기본 계산기</button>
    </div>-->

    
    
    <div class="tab-content" id="tab1">
      <h1>원리금균등상환기</h1>
      <div class="container">
      

        <form id="loanForm">
            <label for="loanAmount">대출 금액:</label>
            <input type="text" id="loanAmount" required><br>

            <label for="interestRate">연 이자율 (%):</label>
            <input type="number" id="interestRate" required><br>

            <label for="loanTerm">대출 기간 (월):</label>
            <input type="number" id="loanTerm" required><br>

            <label for="gracePeriod">거치 기간 (월):</label>
            <input type="number" id="gracePeriod"><br>

            <button type="button" onclick="calculateAmortization()">계산하기</button>
        </form>

        <h2>원리금균등분할상환 일정</h2>
        <table id="amortizationTable">
            <tr>
                <th>월</th>
                <th>납입 금액</th>
                <th>원금 상환액</th>
                <th>이자 상환액</th>
                <th>잔여 대출 잔액</th>
            </tr>
        </table>

        <table id="summaryTable">
            <tr>
                <th>내용</th>
                <th>금액</th>
            </tr>
            <tr>
                <td>총 이자액</td>
                <td id="totalInterest"></td>
            </tr>
            <tr>
                <td>원금 및 총이자액 합계</td>
                <td id="totalPayment"></td>
            </tr>
        </table>
    </div>

    <script>
        function formatNumber(number) {
            if (number === 0) {
                return '0';
            } else {
                return number.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }
        }

        function calculateAmortization() {
            var 대출금액 = parseFloat(document.getElementById('loanAmount').value.replace(/,/g, ''));
            var 연이자율 = parseFloat(document.getElementById('interestRate').value) / 100;
            var 대출기간 = parseInt(document.getElementById('loanTerm').value);
            var 거치기간 = parseInt(document.getElementById('gracePeriod').value) || 0;

            var 월이자율 = 연이자율 / 12;

            var 표 = document.getElementById('amortizationTable');
            var 요약표 = document.getElementById('summaryTable');
            표.innerHTML = '';
            요약표.style.display = 'none';

            var 잔여대출잔액 = 대출금액;
            var 총이자액 = 0;

            var 행 = 표.insertRow();
            var 헤더1 = 행.insertCell(0);
            var 헤더2 = 행.insertCell(1);
            var 헤더3 = 행.insertCell(2);
            var 헤더4 = 행.insertCell(3);
            var 헤더5 = 행.insertCell(4);

            헤더1.innerHTML = '월';
            헤더2.innerHTML = '납입 금액';
            헤더3.innerHTML = '원금 상환액';
            헤더4.innerHTML = '이자 상환액';
            헤더5.innerHTML = '잔여 대출 잔액';

            for (var 월 = 1; 월 <= 대출기간; 월++) {
                var 월납입액;
                var 원금상환액;
                var 이자상환액 = 잔여대출잔액 * 월이자율;

                if (월 <= 거치기간) {
                    월납입액 = 이자상환액;
                    원금상환액 = 0;
                } else {
                    월납입액 = 대출금액 / (대출기간 - 거치기간);
                    원금상환액 = 월납입액 - 이자상환액;
                }

                잔여대출잔액 -= 원금상환액;
                총이자액 += 이자상환액;

                var 줄 = 표.insertRow();
                var 셀1 = 줄.insertCell(0);
                var 셀2 = 줄.insertCell(1);
                var 셀3 = 줄.insertCell(2);
                var 셀4 = 줄.insertCell(3);
                var 셀5 = 줄.insertCell(4);

                셀1.innerHTML = 월;
                셀2.innerHTML = formatNumber(월납입액);
                셀3.innerHTML = formatNumber(원금상환액);
                셀4.innerHTML = formatNumber(이자상환액);
                셀5.innerHTML = formatNumber(잔여대출잔액);
            }

            요약표.style.display = 'block';
            document.getElementById('totalInterest').innerHTML = formatNumber(총이자액);
            document.getElementById('totalPayment').innerHTML = formatNumber(대출금액 + 총이자액);
        }

        // 'return' 키 또는 'enter' 키를 누를 때 계산 함수 실행
        document.getElementById('loanTerm').addEventListener('keyup', function(event) {
            if (event.keyCode === 13) {
                calculateAmortization();
            }
        });

        // 대출 금액 입력란에 숫자를 입력할 때 3자리마다 쉼표 추가
        document.getElementById('loanAmount').addEventListener('keyup', function(event) {
            var input = event.target;
            var value = input.value.replace(/[^\d]/g, '');
            input.value = formatNumber(value);
        });
    </script>


    <div class="tab-content" id="tab2">
        <h1>원리금 균등 상환기</h1>
    
    <script>
        function showTab(tabId) {
            // 모든 탭 내용을 숨김
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = 'none';
            }
    
            // 클릭한 탭 내용을 보임
            var tabContent = document.getElementById(tabId);
            if (tabContent) {
                tabContent.style.display = 'block';
            }
        }
    </script>




 
    </main>

    <footer>
        <p>&copy; 2023 기디개</p>
    </footer>

    <script>
      // 페이지 로드 시 tab1을 선택한 상태로 초기화
      showTab('tab1');
      
      // 이하 동일한 코드...
  </script>
  
</body>
</div>
</html>
